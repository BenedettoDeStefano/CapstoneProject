

<div *ngIf="eventDetails" class="container d-flex pt-5 pb-5">
  <div class="image-container flex-shrink-0 mr-4 pe-5">
    <img  src="{{ eventDetails.imageURL }}" alt="{{ eventDetails.title }}" class="img-fluid custom-img">
  </div>
  <div class="info-container flex-grow-1 d-flex flex-column">
    <h2 class="color-info">{{ eventDetails.title }}</h2>
    <p class="m-0">Data: {{ eventDetails.date | date: 'dd/MM/yyyy' }}</p>
    <p>Descrizione: {{ eventDetails.description }}</p>
    <p class="m-0">Posizione: {{ eventDetails.location }}</p>
    <p >Categoria: {{ eventDetails.category }}</p>
    <p class="m-0">Numero di posti totali: {{ eventDetails.totalSeats }}</p>
    <p>Posti disponibili: {{ eventDetails.seatsAvailable }}</p>
    <button (click)="reserve()" class="mt-auto btn-custom">PRENOTA ORA</button>
  </div>
</div>

<div *ngIf="currentUser" class="review-container">
  <h3>Lascia una recensione</h3>
  <label>Valutazione:</label>
  <div>
    <span *ngFor="let star of [1,2,3,4,5]" (click)="setRating(star)">
      <i [ngClass]="rating >= star ? 'bi-star-fill' : 'bi-star'" class="star-icon"></i>
    </span>
  </div>
  <div class="d-flex mt-4">
    <textarea [(ngModel)]="comment"></textarea>
    <button class="btn-custom-review align-self-end" (click)="submitReview()">Recensisci</button>
  </div>
</div>

<h3 class="m-0">Recensioni:</h3>
<p class="">Media delle recensioni:
  <span *ngFor="let star of [1,2,3,4,5]">
    <i [ngClass]="averageRating >= star ? 'bi-star-fill' : 'bi-star'" class="star-icon"></i>
  </span>
  {{ averageRating.toFixed(1) }}
</p>

<div class="container-fluid p-0 review-custom">
  <div class="d-flex flex-nowrap overflow-auto">
      <div *ngFor="let review of reviews" class="card m-2 review-card" style="width: 18rem;">
          <div class="card-body">
              <p>
                  Rating:
                  <span *ngFor="let star of [1,2,3,4,5]">
                      <i [ngClass]="review.rating >= star ? 'bi-star-fill' : 'bi-star'" class="star-icon"></i>
                  </span>
              </p>
              <p class="card-text">Commento: {{ review.comment }}</p>
          </div>
      </div>
  </div>
</div>

